<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>D3 Visualization</title>

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.3.0/d3.min.js"></script>

	<link rel="stylesheet" type="text/css" href="style/style.css">
	<link rel="stylesheet" type="text/css" href="style/chart.css">
</head>
<body>
<div id="top"><span>D3 Visualization</span></div>
<div id="topmenu">
    <ul>
        <li onclick="getData('grid.csv','GridChart')">Grid</li>
        <li onclick="getData('bar.csv','BarChart')">Bar</li>
        <li onclick="getData('multiline.csv','LineChart')">Line</li>
        <li onclick="getData('multiline.csv','MultiLineChart')">Multi Line</li>
        <li onclick="getData('pie.csv','PieChart')">Pie</li>
    </ul>
</div>
<div id="content"></div>
<div id="footer">Datastreams Jung Soo jin</div>

<script>
    /* 공통데이터 */
    var dataSet = [];
    var content = d3.select("#content");

    $(document).ready(function() {
        getData("grid.csv", "GridChart");
    });

    function getData(file, target) {
        /* data 불러오기 */
        d3.csv("data/" + file, function(error, csv) {
            if (error) {
                console.log(error);
                return false;
            }

            dataSet = csv;

            $("#content").load(target + ".html");
        })
    }

    /* debug */
    function debugging(target) {
        console.log(target + ":" + JSON.stringify(target))
    }

</script>

</body>
</html>